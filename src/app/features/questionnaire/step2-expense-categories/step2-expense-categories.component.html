<!-- Toast Messages -->
<p-toast position="top-center" styleClass="mt-16"></p-toast>

<app-questionnaire-layout
  [showHeader]="true"
  [isSubmitting]="isSubmitting()"
  (nextClicked)="handleNext()"
  (goBackClicked)="handleGoBack()">

  <div class="px-5 py-8">
    <h1 class="text-2xl font-bold text-gray-900 mb-8 text-center">Расходы</h1>

    <div class="grid grid-cols-3 gap-4">
      @for (category of categories; track category.id) {
                <button
          (click)="toggleCategory(category.id)"
          [class]="getCategoryClasses(category.id)"
          class="aspect-square rounded-2xl flex flex-col p-4 text-center transition-all duration-200 touch-target"
        >
          <div class="flex-shrink-0 flex justify-center mb-0 mt-3">
            <app-expense-icon
              [iconName]="category.icon"
              [isSelected]="selectedCategories().includes(category.id)">
            </app-expense-icon>
          </div>
          <div class="flex-1 flex items-center justify-center">
            <span class="text-xs font-medium leading-tight">{{ category.name }}</span>
          </div>
        </button>
      }
    </div>
  </div>
</app-questionnaire-layout>
